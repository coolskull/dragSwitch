Function.prototype.bind||(Function.prototype.bind=function(t){if("function"!=typeof this)throw new TypeError("Function.prototype.bind - what is trying to be bound is not callable");var e=Array.prototype.slice.call(arguments,1),o=this,n=function(){},i=function(){return o.apply(this instanceof n?this:t||window,e.concat(Array.prototype.slice.call(arguments)))};return n.prototype=this.prototype,i.prototype=new n,i}),function(t){function e(e,o){this.element=e,this.options={},o=o||{};var n;for(n in this.defaultOptions)this.options[n]=o[n]!==t?o[n]:this.defaultOptions[n];this.supportsWebkit3dTransform="WebKitCSSMatrix"in window&&"m11"in new WebKitCSSMatrix,"string"==typeof e&&(this.element=document.getElementById(e)),this.knob=this.element.getElementsByClassName("knob")[0],this.track=this.element.getElementsByClassName("track")[0],this.start=this.start.bind(this),this.move=this.move.bind(this),this.end=this.end.bind(this),this.addEvents("start"),this.setValue(this.options.value),window.addEventListener("resize",this.update.bind(this))}var o={start:["touchstart","mousedown"],move:["touchmove","mousemove"],end:["touchend","touchcancel","mouseup"]};e.prototype.defaultOptions={value:0,min:0,max:100,change:null},e.prototype.addEvents=function(t){var e,n=o[t],i=this[t];for(e in n)this.element.addEventListener(n[e],i,!1)},e.prototype.removeEvents=function(t){var e,n=o[t],i=this[t];for(e in n)this.element.removeEventListener(n[e],i,!1)},e.prototype.start=function(t){this.addEvents("move"),this.addEvents("end"),this.handle(t)},e.prototype.move=function(t){this.handle(t)},e.prototype.end=function(){this.removeEvents("move"),this.removeEvents("end")},e.prototype.update=function(){this.setValue(this.value)},e.prototype.setValue=function(e){e===t&&(e=this.options.min),e=Math.min(e,this.options.max),e=Math.max(e,this.options.min);var o=this.knob.offsetWidth,n=this.track.offsetWidth,i=this.options.max-this.options.min,s=n-o,a=Math.round((e-this.options.min)*s/i);this.setKnobPosition(a),this.value=e,this.callback(e)},e.prototype.setKnobPosition=function(t){this.knob.style.webkitTransform=this.supportsWebkit3dTransform?"translate3d("+t+"px, 0, 0)":this.knob.style.MozTransform=this.knob.style.msTransform=this.knob.style.OTransform=this.knob.style.transform="translateX("+t+"px)"},e.prototype.handle=function(t){t.preventDefault(),t.targetTouches&&(t=t.targetTouches[0]);var e,o,n=t.pageX,i=this.knob.offsetWidth,s=this.track.offsetWidth,a=s-i,h=this.options.max-this.options.min;for(e=this.element;e;e=e.offsetParent)n-=e.offsetLeft;n+=i/2,n=Math.min(n,s),n=Math.max(n-i,0),this.setKnobPosition(n),o=this.options.min+Math.round(n*h/a),this.setValue(o)},e.prototype.callback=function(t){this.options.change&&this.options.change(t)},window.MobileRangeSlider=e}();